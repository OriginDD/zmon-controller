<query-editor-row query-ctrl="ctrl" can-collapse="false">
  <div class="tight-form">
    <ul class="tight-form-list">
      <li class="tight-form-item">Alert</li>
      <li>
        <input type="text" class="input-small tight-form-input"
        ng-model="ctrl.target.alert"
        placeholder="alert id"
        ng-blur="ctrl.targetBlur()">
        <a bs-tooltip="ctrl.target.errors.alert"
          style="color: rgb(229, 189, 28)"
          ng-show="ctrl.target.errors.alert">
          <i class="fa fa-warning"></i>
        </a>
      </li>
      <li class="tight-form-item">
        Alias
      </li>
      <li>
        <input type="text" class="input-medium tight-form-input" ng-model="ctrl.target.alias"
        spellcheck='false' placeholder="alias" ng-blur="ctrl.targetBlur()">
      </li>
    </ul>
    <div class="clearfix"></div>
  </div>

  <!-- entities -->
  <div class="tight-form">
    <ul class="tight-form-list" role="menu">
      <li class="tight-form-item">
        Entities
      </li>
      <li ng-repeat="entity in ctrl.target.entities track by $index" class="tight-form-item">
        {{entity}}
        <a ng-click="ctrl.removeEntity(entity)">
          <i class="fa fa-remove"></i>
        </a>
      </li>

      <li class="tight-form-item" ng-hide="ctrl.panel.addEntityMode">
        <a ng-click="ctrl.addEntity()">
          <i class="fa fa-plus"></i>
        </a>
      </li>

      <li ng-show="ctrl.panel.addEntityMode">
        <input type="text"
        class="input-medium tight-form-input"
        spellcheck='false'
        data-min-length=0 data-items=100
        ng-model="ctrl.target.currentEntity"
        ng-change="ctrl.validateEntity()"
        placeholder="entity ID">
        <a bs-tooltip="target.errors.entities"
          style="color: rgb(229, 189, 28)"
          ng-show="ctrl.target.errors.entities">
          <i class="fa fa-warning"></i>
        </a>
        <li class="tight-form-item" ng-show="ctrl.panel.addEntityMode">
          <a ng-click="ctrl.addEntity()">
            <i class="fa fa-plus-circle"></i>
          </a>
        </li>
      </li>
    </ul>
    <div class="clearfix"></div>
  </div>

  <div class="tight-form">
    <ul class="tight-form-list">
      <li class="tight-form-item">Up Value</li>
      <li>
        <input type="number" class="input-small tight-form-input"
        ng-model="ctrl.target.upValue"
        placeholder="1"
        ng-blur="ctrl.targetBlur()">
        <a bs-tooltip="ctrl.target.errors.upValue"
          style="color: rgb(229, 189, 28)"
          ng-show="ctrl.target.errors.upValue">
          <i class="fa fa-warning"></i>
        </a>
      </li>
      <li class="tight-form-item">Down Value</li>
      <li>
        <input type="number" class="input-small tight-form-input"
        ng-model="ctrl.target.downValue"
        placeholder="0"
        ng-blur="ctrl.targetBlur()">
        <a bs-tooltip="ctrl.target.errors.downValue"
          style="color: rgb(229, 189, 28)"
          ng-show="ctrl.target.errors.downValue">
          <i class="fa fa-warning"></i>
        </a>
      </li>
    </ul>
    <div class="clearfix"></div>
  </div>

</query-editor-row>

